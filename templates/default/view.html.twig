{% extends 'base.html.twig' %}

{% block title %}
    {{ article.title }}
{% endblock %}

{% block body %}

    <h1>{{ article.title }}</h1>
    <small>{{ article.creationDate|date('d/m/Y')}}</small>
    <p>{{ article.content }}</p>
    <h2>Commentaires</h2>
    <div class="row">
    {% for comment in article.comments %}
    <div class="col-md-12">
       <small> Le {{ comment.commentDate|date("d/m/Y") }} par {{ comment.author }}</small>
       <p>{{ comment.content }}</p>
    </div>
    {% endfor %}

    {{ form_start(form)  }}

        {{ form_label(form.content, null, {'label_attr': {'class': 'form-label'}} )}}
        {{ form_widget(form.content, {'attr': {'class': 'form-control'}}) }}

        {{ form_label(form.author, null, {'label_attr': {'class': 'form-label'}} )}}
        {{ form_widget(form.author, {'attr': {'class': 'form-control'}}) }}

        {{ form_rest(form)  }}
        <button type="submit" class="btn btn-success mt-2">Ajouter le commentaire</button>
    {{ form_end(form)  }}

    </div>
{% endblock %}